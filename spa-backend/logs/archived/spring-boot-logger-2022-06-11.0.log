2022-06-11 03:39:53,666 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h22s335ms).
2022-06-11 05:41:36,873 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h28s567ms).
2022-06-11 09:54:36,361 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h13m253ms).
2022-06-11 11:58:10,686 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h3m34s325ms).
2022-06-11 13:12:44,547 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m3s174ms).
2022-06-11 17:24:06,474 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h19s156ms).
2022-06-11 17:44:46,474 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m40s2ms).
2022-06-11 19:34:06,639 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-11 19:34:06,697 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-06-11 19:34:06,729 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2022-06-11 19:34:24,659 INFO org.springframework.boot.StartupInfoLogger [main] Starting SpaBackendApplication using Java 17.0.2 on MacBook-Air.attlocal.net with PID 52265 (/Users/devinlewis/eclipse-workspace/Group/spa-backend/target/classes started by devinlewis in /Users/devinlewis/eclipse-workspace/Group/spa-backend)
2022-06-11 19:34:24,665 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-06-11 19:34:26,378 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-06-11 19:34:26,381 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data cosmos repositories in DEFAULT mode.
2022-06-11 19:34:26,433 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data cosmos - Could not safely identify store assignment for repository candidate interface com.bigshots.spabackend.repo.JokeRepo. If you want this repository to be a cosmos repository, consider extending one of the following types with your repository: com.azure.spring.data.cosmos.repository.ReactiveCosmosRepository.
2022-06-11 19:34:26,438 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data cosmos - Could not safely identify store assignment for repository candidate interface com.bigshots.spabackend.repo.UserRepo. If you want this repository to be a cosmos repository, consider extending one of the following types with your repository: com.azure.spring.data.cosmos.repository.ReactiveCosmosRepository.
2022-06-11 19:34:26,439 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 48 ms. Found 0 cosmos repository interfaces.
2022-06-11 19:34:26,457 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-06-11 19:34:26,457 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data cosmos repositories in DEFAULT mode.
2022-06-11 19:34:26,462 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data cosmos - Could not safely identify store assignment for repository candidate interface com.bigshots.spabackend.repo.JokeRepo. If you want this repository to be a cosmos repository, consider extending one of the following types with your repository: com.azure.spring.data.cosmos.repository.CosmosRepository.
2022-06-11 19:34:26,465 INFO org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport [main] Spring Data cosmos - Could not safely identify store assignment for repository candidate interface com.bigshots.spabackend.repo.UserRepo. If you want this repository to be a cosmos repository, consider extending one of the following types with your repository: com.azure.spring.data.cosmos.repository.CosmosRepository.
2022-06-11 19:34:26,466 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 8 ms. Found 0 cosmos repository interfaces.
2022-06-11 19:34:26,612 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode!
2022-06-11 19:34:26,615 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-06-11 19:34:26,946 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 316 ms. Found 2 JPA repository interfaces.
2022-06-11 19:34:27,995 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2022-06-11 19:34:28,018 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2022-06-11 19:34:28,019 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-06-11 19:34:28,019 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.63]
2022-06-11 19:34:28,266 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-06-11 19:34:28,266 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3429 ms
2022-06-11 19:34:28,634 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-06-11 19:34:28,754 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.6.9.Final
2022-06-11 19:34:29,299 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-06-11 19:34:29,514 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-06-11 19:34:29,961 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-06-11 19:34:30,097 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-06-11 19:34:31,019 INFO org.hibernate.tuple.PojoInstantiator [main] HHH000182: No default (no-argument) constructor for class: com.bigshots.spabackend.model.Joke (class must be instantiated by Interceptor)
2022-06-11 19:34:31,352 INFO org.hibernate.tuple.PojoInstantiator [main] HHH000182: No default (no-argument) constructor for class: com.bigshots.spabackend.model.User (class must be instantiated by Interceptor)
2022-06-11 19:34:31,954 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-06-11 19:34:31,968 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-06-11 19:34:32,543 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-06-11 19:34:33,162 INFO com.azure.core.util.logging.ClientLogger [main] Package versions: jackson-annotations=2.13.3, jackson-core=2.13.3, jackson-databind=2.13.3, jackson-dataformat-xml=2.13.3, jackson-datatype-jsr310=2.13.3, azure-core=1.28.0, Troubleshooting version conflicts: https://aka.ms/azsdk/java/dependency/troubleshoot
2022-06-11 19:34:33,357 INFO com.azure.spring.cloud.core.implementation.factory.AbstractAzureServiceClientBuilderFactory [main] Will configure the default credential of type DefaultAzureCredential for class com.azure.identity.DefaultAzureCredentialBuilder.
2022-06-11 19:34:33,699 INFO com.azure.cosmos.implementation.ImplementationBridgeHelpers$CosmosClientBuilderHelper [main] Setting CosmosClientBuilderAccessor...
2022-06-11 19:34:34,545 INFO com.azure.cosmos.implementation.ImplementationBridgeHelpers$DirectConnectionConfigHelper [main] Setting DirectConnectionConfigAccessor...
2022-06-11 19:34:34,575 WARN com.azure.spring.cloud.service.implementation.cosmos.CosmosClientBuilderFactory [main] Configuration instance is not supported to configure in CosmosClientBuilder
2022-06-11 19:34:34,610 INFO com.azure.cosmos.implementation.ImplementationBridgeHelpers$CosmosClientHelper [main] Setting CosmosClientAccessor...
2022-06-11 19:34:34,904 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [main] Initializing DocumentClient [1] with serviceEndpoint [https://jokeproject.documents.azure.com:443/], connectionPolicy [ConnectionPolicy{httpNetworkRequestTimeout=PT1M, tcpNetworkRequestTimeout=PT5S, connectionMode=DIRECT, maxConnectionPoolSize=1000, idleHttpConnectionTimeout=PT1M, idleTcpConnectionTimeout=PT0S, userAgentSuffix='az-sp-cos/4.2.0', throttlingRetryOptions=RetryOptions{maxRetryAttemptsOnThrottledRequests=9, maxRetryWaitTime=PT30S}, endpointDiscoveryEnabled=true, preferredRegions=null, multipleWriteRegionsEnabled=true, proxyType=null, inetSocketProxyAddress=null, readRequestsFallbackEnabled=true, connectTimeout=PT5S, idleTcpEndpointTimeout=PT1H, maxConnectionsPerEndpoint=130, maxRequestsPerConnection=30, tcpConnectionEndpointRediscoveryEnabled=true, clientTelemetryEnabled=false}], consistencyLevel [null], directModeProtocol [Tcp]
2022-06-11 19:34:35,432 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:34:35,520 INFO com.azure.cosmos.implementation.ImplementationBridgeHelpers$CosmosDiagnosticsHelper [cosmos-parallel-1] Setting CosmosDiagnosticsAccessor...
2022-06-11 19:34:36,353 INFO com.azure.cosmos.implementation.directconnectivity.RntbdTransportClient$Options$Builder [main] Using default Direct TCP options: azure.cosmos.directTcp.defaultOptions
2022-06-11 19:34:36,379 INFO com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdServiceEndpoint$RntbdEndpointMonitoringProvider [main] Starting RntbdClientChannelPoolMonitoringProvider ...
2022-06-11 19:34:36,420 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [main] Initializing DocumentClient [2] with serviceEndpoint [https://jokeproject.documents.azure.com:443/], connectionPolicy [ConnectionPolicy{httpNetworkRequestTimeout=PT1M, tcpNetworkRequestTimeout=PT5S, connectionMode=DIRECT, maxConnectionPoolSize=1000, idleHttpConnectionTimeout=PT1M, idleTcpConnectionTimeout=PT0S, userAgentSuffix='az-sp-cos/4.2.0', throttlingRetryOptions=RetryOptions{maxRetryAttemptsOnThrottledRequests=9, maxRetryWaitTime=PT30S}, endpointDiscoveryEnabled=true, preferredRegions=null, multipleWriteRegionsEnabled=true, proxyType=null, inetSocketProxyAddress=null, readRequestsFallbackEnabled=true, connectTimeout=PT5S, idleTcpEndpointTimeout=PT1H, maxConnectionsPerEndpoint=130, maxRequestsPerConnection=30, tcpConnectionEndpointRediscoveryEnabled=true, clientTelemetryEnabled=false}], consistencyLevel [null], directModeProtocol [Tcp]
2022-06-11 19:34:36,422 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:34:36,713 INFO com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdServiceEndpoint$RntbdEndpointMonitoringProvider [main] Starting RntbdClientChannelPoolMonitoringProvider ...
2022-06-11 19:34:36,745 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [main] Initializing DocumentClient [3] with serviceEndpoint [https://jokeproject.documents.azure.com:443/], connectionPolicy [ConnectionPolicy{httpNetworkRequestTimeout=PT1M, tcpNetworkRequestTimeout=PT5S, connectionMode=DIRECT, maxConnectionPoolSize=1000, idleHttpConnectionTimeout=PT1M, idleTcpConnectionTimeout=PT0S, userAgentSuffix='az-sd-cos/3.21.0az-sp-cos/4.2.0', throttlingRetryOptions=RetryOptions{maxRetryAttemptsOnThrottledRequests=9, maxRetryWaitTime=PT30S}, endpointDiscoveryEnabled=true, preferredRegions=null, multipleWriteRegionsEnabled=true, proxyType=null, inetSocketProxyAddress=null, readRequestsFallbackEnabled=true, connectTimeout=PT5S, idleTcpEndpointTimeout=PT1H, maxConnectionsPerEndpoint=130, maxRequestsPerConnection=30, tcpConnectionEndpointRediscoveryEnabled=true, clientTelemetryEnabled=false}], consistencyLevel [null], directModeProtocol [Tcp]
2022-06-11 19:34:36,748 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:34:37,140 INFO com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdServiceEndpoint$RntbdEndpointMonitoringProvider [main] Starting RntbdClientChannelPoolMonitoringProvider ...
2022-06-11 19:34:37,364 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2022-06-11 19:34:37,385 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2022-06-11 19:34:37,402 INFO org.springframework.boot.StartupInfoLogger [main] Started SpaBackendApplication in 14.04 seconds (JVM running for 16.305)
2022-06-11 19:35:21,341 INFO com.azure.cosmos.implementation.clienttelemetry.ClientTelemetry [reactor-http-kqueue-2] Client is not on azure vm
2022-06-11 19:35:21,714 INFO com.azure.cosmos.implementation.clienttelemetry.ClientTelemetry [reactor-http-kqueue-4] Client is not on azure vm
2022-06-11 19:35:22,141 INFO com.azure.cosmos.implementation.clienttelemetry.ClientTelemetry [reactor-http-kqueue-2] Client is not on azure vm
2022-06-11 19:39:36,318 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:39:36,722 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:39:37,149 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:44:36,701 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:44:37,025 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:44:37,433 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:49:37,046 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:49:37,252 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:49:37,700 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:54:37,466 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:54:37,559 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:54:38,024 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:59:38,197 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:59:38,203 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 19:59:38,316 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:04:38,585 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:04:38,609 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:04:38,614 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:09:38,999 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:09:38,980 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:09:39,049 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:09:39,993 INFO com.azure.cosmos.implementation.ImplementationBridgeHelpers$CosmosExceptionHelper [reactor-http-kqueue-3] Setting CosmosExceptionAccessor...
2022-06-11 20:09:45,392 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-3] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:09:39 gmt\\n\\n'\\r\\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=9d20a0df-7ffc-402f-84ec-14d45f635ef0, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:09:39 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"9d20a0df-7ffc-402f-84ec-14d45f635ef0","requestLatencyInMs":1498,"requestStartTimeUTC":"2022-06-12T01:09:39.052641Z","requestEndTimeUTC":"2022-06-12T01:09:40.551061Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057782Z","durationInMicroSec":453913},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.511695Z","durationInMicroSec":301},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.511996Z","durationInMicroSec":144648},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.656644Z","durationInMicroSec":254508},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.911152Z","durationInMicroSec":5503}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=9d20a0df-7ffc-402f-84ec-14d45f635ef0, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56143 KB","availableMemory":"2041009 KB","systemCpuLoad":"(2022-06-12T01:09:15.405063Z 39.3%), (2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:09:45,448 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-1] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:09:39 gmt\\n\\n'\\r\\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:09:39 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"d6c8cca8-85b6-48e8-b20c-cca2d5d9080b","requestLatencyInMs":1356,"requestStartTimeUTC":"2022-06-12T01:09:39.053329Z","requestEndTimeUTC":"2022-06-12T01:09:40.410283Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057764Z","durationInMicroSec":433206},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.490970Z","durationInMicroSec":8700},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.499670Z","durationInMicroSec":143255},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.642925Z","durationInMicroSec":137633},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.780558Z","durationInMicroSec":1490}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56203 KB","availableMemory":"2040949 KB","systemCpuLoad":"(2022-06-12T01:09:15.405063Z 39.3%), (2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:09:45,632 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"9d20a0df-7ffc-402f-84ec-14d45f635ef0","requestLatencyInMs":1498,"requestStartTimeUTC":"2022-06-12T01:09:39.052641Z","requestEndTimeUTC":"2022-06-12T01:09:40.551061Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057782Z","durationInMicroSec":453913},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.511695Z","durationInMicroSec":301},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.511996Z","durationInMicroSec":144648},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.656644Z","durationInMicroSec":254508},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.911152Z","durationInMicroSec":5503}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=9d20a0df-7ffc-402f-84ec-14d45f635ef0, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56555 KB","availableMemory":"2040597 KB","systemCpuLoad":"(2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%), (2022-06-12T01:09:45.396945Z 70.9%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:09:45,658 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"d6c8cca8-85b6-48e8-b20c-cca2d5d9080b","requestLatencyInMs":1356,"requestStartTimeUTC":"2022-06-12T01:09:39.053329Z","requestEndTimeUTC":"2022-06-12T01:09:40.410283Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057764Z","durationInMicroSec":433206},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.490970Z","durationInMicroSec":8700},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.499670Z","durationInMicroSec":143255},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.642925Z","durationInMicroSec":137633},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.780558Z","durationInMicroSec":1490}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56615 KB","availableMemory":"2040537 KB","systemCpuLoad":"(2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%), (2022-06-12T01:09:45.396945Z 70.9%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:09:45,726 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:09:39 gmt\\n\\n'\\r\\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:09:39 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"d6c8cca8-85b6-48e8-b20c-cca2d5d9080b","requestLatencyInMs":1356,"requestStartTimeUTC":"2022-06-12T01:09:39.053329Z","requestEndTimeUTC":"2022-06-12T01:09:40.410283Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057764Z","durationInMicroSec":433206},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.490970Z","durationInMicroSec":8700},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.499670Z","durationInMicroSec":143255},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.642925Z","durationInMicroSec":137633},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.780558Z","durationInMicroSec":1490}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56615 KB","availableMemory":"2040537 KB","systemCpuLoad":"(2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%), (2022-06-12T01:09:45.396945Z 70.9%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"d6c8cca8-85b6-48e8-b20c-cca2d5d9080b","requestLatencyInMs":1356,"requestStartTimeUTC":"2022-06-12T01:09:39.053329Z","requestEndTimeUTC":"2022-06-12T01:09:40.410283Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057764Z","durationInMicroSec":433206},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.490970Z","durationInMicroSec":8700},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.499670Z","durationInMicroSec":143255},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.642925Z","durationInMicroSec":137633},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.780558Z","durationInMicroSec":1490}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=d6c8cca8-85b6-48e8-b20c-cca2d5d9080b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56739 KB","availableMemory":"2040413 KB","systemCpuLoad":"(2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%), (2022-06-12T01:09:45.396945Z 70.9%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:09:45,747 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:09:39 gmt\\n\\n'\\r\\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=9d20a0df-7ffc-402f-84ec-14d45f635ef0, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:09:39 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"9d20a0df-7ffc-402f-84ec-14d45f635ef0","requestLatencyInMs":1498,"requestStartTimeUTC":"2022-06-12T01:09:39.052641Z","requestEndTimeUTC":"2022-06-12T01:09:40.551061Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057782Z","durationInMicroSec":453913},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.511695Z","durationInMicroSec":301},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.511996Z","durationInMicroSec":144648},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.656644Z","durationInMicroSec":254508},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.911152Z","durationInMicroSec":5503}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=9d20a0df-7ffc-402f-84ec-14d45f635ef0, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56739 KB","availableMemory":"2040413 KB","systemCpuLoad":"(2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%), (2022-06-12T01:09:45.396945Z 70.9%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"9d20a0df-7ffc-402f-84ec-14d45f635ef0","requestLatencyInMs":1498,"requestStartTimeUTC":"2022-06-12T01:09:39.052641Z","requestEndTimeUTC":"2022-06-12T01:09:40.551061Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:09:39.057782Z","durationInMicroSec":453913},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:09:39.511695Z","durationInMicroSec":301},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:09:39.511996Z","durationInMicroSec":144648},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:09:39.656644Z","durationInMicroSec":254508},{"eventName":"received","startTimeUTC":"2022-06-12T01:09:39.911152Z","durationInMicroSec":5503}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:09:39 gmt\n\n'\r\nActivityId: 9d20a0df-7ffc-402f-84ec-14d45f635ef0, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:09:39 GMT, x-ms-activity-id=9d20a0df-7ffc-402f-84ec-14d45f635ef0, Content-Type=application/json}"},"systemInformation":{"usedMemory":"56976 KB","availableMemory":"2040176 KB","systemCpuLoad":"(2022-06-12T01:09:20.393538Z 36.9%), (2022-06-12T01:09:25.395261Z 35.3%), (2022-06-12T01:09:30.393839Z 34.9%), (2022-06-12T01:09:35.395170Z 38.2%), (2022-06-12T01:09:40.395522Z 62.2%), (2022-06-12T01:09:45.396945Z 70.9%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:14:39,777 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:14:41,259 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-4] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:14:39 gmt\\n\\n'\\r\\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:39 GMT, x-ms-activity-id=17763674-2c33-4bb0-80e2-0d4289ba8079, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:14:39 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"17763674-2c33-4bb0-80e2-0d4289ba8079","requestLatencyInMs":916,"requestStartTimeUTC":"2022-06-12T01:14:39.870648Z","requestEndTimeUTC":"2022-06-12T01:14:40.787032Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:39.875718Z","durationInMicroSec":531513},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:40.407231Z","durationInMicroSec":6957},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:40.414188Z","durationInMicroSec":50618},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:40.464806Z","durationInMicroSec":261809},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:40.726615Z","durationInMicroSec":11304}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:39 GMT, x-ms-activity-id=17763674-2c33-4bb0-80e2-0d4289ba8079, Content-Type=application/json}"},"systemInformation":{"usedMemory":"57669 KB","availableMemory":"2039483 KB","systemCpuLoad":"(2022-06-12T01:14:15.402567Z 59.6%), (2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:14:41,276 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-4] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"17763674-2c33-4bb0-80e2-0d4289ba8079","requestLatencyInMs":916,"requestStartTimeUTC":"2022-06-12T01:14:39.870648Z","requestEndTimeUTC":"2022-06-12T01:14:40.787032Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:39.875718Z","durationInMicroSec":531513},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:40.407231Z","durationInMicroSec":6957},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:40.414188Z","durationInMicroSec":50618},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:40.464806Z","durationInMicroSec":261809},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:40.726615Z","durationInMicroSec":11304}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:39 GMT, x-ms-activity-id=17763674-2c33-4bb0-80e2-0d4289ba8079, Content-Type=application/json}"},"systemInformation":{"usedMemory":"57797 KB","availableMemory":"2039355 KB","systemCpuLoad":"(2022-06-12T01:14:15.402567Z 59.6%), (2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:14:41,544 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-4] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:14:39 gmt\\n\\n'\\r\\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:39 GMT, x-ms-activity-id=17763674-2c33-4bb0-80e2-0d4289ba8079, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:14:39 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"17763674-2c33-4bb0-80e2-0d4289ba8079","requestLatencyInMs":916,"requestStartTimeUTC":"2022-06-12T01:14:39.870648Z","requestEndTimeUTC":"2022-06-12T01:14:40.787032Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:39.875718Z","durationInMicroSec":531513},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:40.407231Z","durationInMicroSec":6957},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:40.414188Z","durationInMicroSec":50618},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:40.464806Z","durationInMicroSec":261809},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:40.726615Z","durationInMicroSec":11304}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:39 GMT, x-ms-activity-id=17763674-2c33-4bb0-80e2-0d4289ba8079, Content-Type=application/json}"},"systemInformation":{"usedMemory":"57856 KB","availableMemory":"2039296 KB","systemCpuLoad":"(2022-06-12T01:14:15.402567Z 59.6%), (2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"17763674-2c33-4bb0-80e2-0d4289ba8079","requestLatencyInMs":916,"requestStartTimeUTC":"2022-06-12T01:14:39.870648Z","requestEndTimeUTC":"2022-06-12T01:14:40.787032Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:39.875718Z","durationInMicroSec":531513},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:40.407231Z","durationInMicroSec":6957},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:40.414188Z","durationInMicroSec":50618},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:40.464806Z","durationInMicroSec":261809},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:40.726615Z","durationInMicroSec":11304}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:39 gmt\n\n'\r\nActivityId: 17763674-2c33-4bb0-80e2-0d4289ba8079, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:39 GMT, x-ms-activity-id=17763674-2c33-4bb0-80e2-0d4289ba8079, Content-Type=application/json}"},"systemInformation":{"usedMemory":"57933 KB","availableMemory":"2039219 KB","systemCpuLoad":"(2022-06-12T01:14:15.402567Z 59.6%), (2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:14:45,752 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:14:45,785 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:14:46,131 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-1] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:14:45 gmt\\n\\n'\\r\\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=578ddf44-2106-48ba-8801-b7b4bb99c057, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:14:45 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"578ddf44-2106-48ba-8801-b7b4bb99c057","requestLatencyInMs":369,"requestStartTimeUTC":"2022-06-12T01:14:45.757084Z","requestEndTimeUTC":"2022-06-12T01:14:46.127038Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.757228Z","durationInMicroSec":190338},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.947566Z","durationInMicroSec":276},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.947842Z","durationInMicroSec":2870},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:45.950712Z","durationInMicroSec":160415},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.111127Z","durationInMicroSec":14037}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=578ddf44-2106-48ba-8801-b7b4bb99c057, Content-Type=application/json}"},"systemInformation":{"usedMemory":"58673 KB","availableMemory":"2038479 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:14:46,135 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"578ddf44-2106-48ba-8801-b7b4bb99c057","requestLatencyInMs":369,"requestStartTimeUTC":"2022-06-12T01:14:45.757084Z","requestEndTimeUTC":"2022-06-12T01:14:46.127038Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.757228Z","durationInMicroSec":190338},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.947566Z","durationInMicroSec":276},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.947842Z","durationInMicroSec":2870},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:45.950712Z","durationInMicroSec":160415},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.111127Z","durationInMicroSec":14037}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=578ddf44-2106-48ba-8801-b7b4bb99c057, Content-Type=application/json}"},"systemInformation":{"usedMemory":"58788 KB","availableMemory":"2038364 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:14:46,192 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:14:45 gmt\\n\\n'\\r\\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=578ddf44-2106-48ba-8801-b7b4bb99c057, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:14:45 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"578ddf44-2106-48ba-8801-b7b4bb99c057","requestLatencyInMs":369,"requestStartTimeUTC":"2022-06-12T01:14:45.757084Z","requestEndTimeUTC":"2022-06-12T01:14:46.127038Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.757228Z","durationInMicroSec":190338},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.947566Z","durationInMicroSec":276},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.947842Z","durationInMicroSec":2870},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:45.950712Z","durationInMicroSec":160415},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.111127Z","durationInMicroSec":14037}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=578ddf44-2106-48ba-8801-b7b4bb99c057, Content-Type=application/json}"},"systemInformation":{"usedMemory":"58907 KB","availableMemory":"2038245 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"578ddf44-2106-48ba-8801-b7b4bb99c057","requestLatencyInMs":369,"requestStartTimeUTC":"2022-06-12T01:14:45.757084Z","requestEndTimeUTC":"2022-06-12T01:14:46.127038Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.757228Z","durationInMicroSec":190338},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.947566Z","durationInMicroSec":276},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.947842Z","durationInMicroSec":2870},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:45.950712Z","durationInMicroSec":160415},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.111127Z","durationInMicroSec":14037}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: 578ddf44-2106-48ba-8801-b7b4bb99c057, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=578ddf44-2106-48ba-8801-b7b4bb99c057, Content-Type=application/json}"},"systemInformation":{"usedMemory":"59022 KB","availableMemory":"2038130 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:14:46,262 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-2] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:14:45 gmt\\n\\n'\\r\\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=bca88e30-ceed-44e8-917c-1f2d957be73e, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:14:45 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bca88e30-ceed-44e8-917c-1f2d957be73e","requestLatencyInMs":452,"requestStartTimeUTC":"2022-06-12T01:14:45.788911Z","requestEndTimeUTC":"2022-06-12T01:14:46.241014Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.789166Z","durationInMicroSec":189889},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.979055Z","durationInMicroSec":603},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.979658Z","durationInMicroSec":96290},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:46.075948Z","durationInMicroSec":161638},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.237586Z","durationInMicroSec":2250}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=bca88e30-ceed-44e8-917c-1f2d957be73e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"59265 KB","availableMemory":"2037887 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:14:46,267 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-2] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bca88e30-ceed-44e8-917c-1f2d957be73e","requestLatencyInMs":452,"requestStartTimeUTC":"2022-06-12T01:14:45.788911Z","requestEndTimeUTC":"2022-06-12T01:14:46.241014Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.789166Z","durationInMicroSec":189889},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.979055Z","durationInMicroSec":603},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.979658Z","durationInMicroSec":96290},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:46.075948Z","durationInMicroSec":161638},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.237586Z","durationInMicroSec":2250}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=bca88e30-ceed-44e8-917c-1f2d957be73e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"59393 KB","availableMemory":"2037759 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:14:46,275 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-2] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:14:45 gmt\\n\\n'\\r\\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=bca88e30-ceed-44e8-917c-1f2d957be73e, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:14:45 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bca88e30-ceed-44e8-917c-1f2d957be73e","requestLatencyInMs":452,"requestStartTimeUTC":"2022-06-12T01:14:45.788911Z","requestEndTimeUTC":"2022-06-12T01:14:46.241014Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.789166Z","durationInMicroSec":189889},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.979055Z","durationInMicroSec":603},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.979658Z","durationInMicroSec":96290},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:46.075948Z","durationInMicroSec":161638},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.237586Z","durationInMicroSec":2250}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=bca88e30-ceed-44e8-917c-1f2d957be73e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"59454 KB","availableMemory":"2037698 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bca88e30-ceed-44e8-917c-1f2d957be73e","requestLatencyInMs":452,"requestStartTimeUTC":"2022-06-12T01:14:45.788911Z","requestEndTimeUTC":"2022-06-12T01:14:46.241014Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:14:45.789166Z","durationInMicroSec":189889},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:14:45.979055Z","durationInMicroSec":603},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:14:45.979658Z","durationInMicroSec":96290},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:14:46.075948Z","durationInMicroSec":161638},{"eventName":"received","startTimeUTC":"2022-06-12T01:14:46.237586Z","durationInMicroSec":2250}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:14:45 gmt\n\n'\r\nActivityId: bca88e30-ceed-44e8-917c-1f2d957be73e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:14:46 GMT, x-ms-activity-id=bca88e30-ceed-44e8-917c-1f2d957be73e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"59512 KB","availableMemory":"2037640 KB","systemCpuLoad":"(2022-06-12T01:14:20.402402Z 60.8%), (2022-06-12T01:14:25.402944Z 57.3%), (2022-06-12T01:14:30.402759Z 64.0%), (2022-06-12T01:14:35.402992Z 62.1%), (2022-06-12T01:14:40.403824Z 62.5%), (2022-06-12T01:14:45.403116Z 65.0%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:19:41,586 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:19:42,114 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-3] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:19:41 gmt\\n\\n'\\r\\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:41 GMT, x-ms-activity-id=3d007e77-0ac0-48f9-8904-f700028e41b6, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:19:41 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"3d007e77-0ac0-48f9-8904-f700028e41b6","requestLatencyInMs":507,"requestStartTimeUTC":"2022-06-12T01:19:41.593734Z","requestEndTimeUTC":"2022-06-12T01:19:42.101704Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:41.593888Z","durationInMicroSec":244746},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:41.838634Z","durationInMicroSec":89},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:41.838723Z","durationInMicroSec":812},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:41.839535Z","durationInMicroSec":159349},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:41.998884Z","durationInMicroSec":785}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:41 GMT, x-ms-activity-id=3d007e77-0ac0-48f9-8904-f700028e41b6, Content-Type=application/json}"},"systemInformation":{"usedMemory":"60296 KB","availableMemory":"2036856 KB","systemCpuLoad":"(2022-06-12T01:19:15.411525Z 30.1%), (2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:19:42,116 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"3d007e77-0ac0-48f9-8904-f700028e41b6","requestLatencyInMs":507,"requestStartTimeUTC":"2022-06-12T01:19:41.593734Z","requestEndTimeUTC":"2022-06-12T01:19:42.101704Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:41.593888Z","durationInMicroSec":244746},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:41.838634Z","durationInMicroSec":89},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:41.838723Z","durationInMicroSec":812},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:41.839535Z","durationInMicroSec":159349},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:41.998884Z","durationInMicroSec":785}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:41 GMT, x-ms-activity-id=3d007e77-0ac0-48f9-8904-f700028e41b6, Content-Type=application/json}"},"systemInformation":{"usedMemory":"60421 KB","availableMemory":"2036731 KB","systemCpuLoad":"(2022-06-12T01:19:15.411525Z 30.1%), (2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:19:42,118 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:19:41 gmt\\n\\n'\\r\\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:41 GMT, x-ms-activity-id=3d007e77-0ac0-48f9-8904-f700028e41b6, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:19:41 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"3d007e77-0ac0-48f9-8904-f700028e41b6","requestLatencyInMs":507,"requestStartTimeUTC":"2022-06-12T01:19:41.593734Z","requestEndTimeUTC":"2022-06-12T01:19:42.101704Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:41.593888Z","durationInMicroSec":244746},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:41.838634Z","durationInMicroSec":89},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:41.838723Z","durationInMicroSec":812},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:41.839535Z","durationInMicroSec":159349},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:41.998884Z","durationInMicroSec":785}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:41 GMT, x-ms-activity-id=3d007e77-0ac0-48f9-8904-f700028e41b6, Content-Type=application/json}"},"systemInformation":{"usedMemory":"60488 KB","availableMemory":"2036664 KB","systemCpuLoad":"(2022-06-12T01:19:15.411525Z 30.1%), (2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"3d007e77-0ac0-48f9-8904-f700028e41b6","requestLatencyInMs":507,"requestStartTimeUTC":"2022-06-12T01:19:41.593734Z","requestEndTimeUTC":"2022-06-12T01:19:42.101704Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:41.593888Z","durationInMicroSec":244746},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:41.838634Z","durationInMicroSec":89},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:41.838723Z","durationInMicroSec":812},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:41.839535Z","durationInMicroSec":159349},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:41.998884Z","durationInMicroSec":785}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:41 gmt\n\n'\r\nActivityId: 3d007e77-0ac0-48f9-8904-f700028e41b6, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:41 GMT, x-ms-activity-id=3d007e77-0ac0-48f9-8904-f700028e41b6, Content-Type=application/json}"},"systemInformation":{"usedMemory":"60488 KB","availableMemory":"2036664 KB","systemCpuLoad":"(2022-06-12T01:19:15.411525Z 30.1%), (2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:19:46,212 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:19:46,300 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:19:46,589 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-4] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:19:46 gmt\\n\\n'\\r\\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:45 GMT, x-ms-activity-id=530b3cf7-0aab-4250-abd0-df568ca2b6bb, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:19:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"530b3cf7-0aab-4250-abd0-df568ca2b6bb","requestLatencyInMs":374,"requestStartTimeUTC":"2022-06-12T01:19:46.213787Z","requestEndTimeUTC":"2022-06-12T01:19:46.588043Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.213922Z","durationInMicroSec":166650},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.380572Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.380650Z","durationInMicroSec":717},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.381367Z","durationInMicroSec":205312},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.586679Z","durationInMicroSec":695}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:45 GMT, x-ms-activity-id=530b3cf7-0aab-4250-abd0-df568ca2b6bb, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61022 KB","availableMemory":"2036130 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:19:46,591 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-4] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"530b3cf7-0aab-4250-abd0-df568ca2b6bb","requestLatencyInMs":374,"requestStartTimeUTC":"2022-06-12T01:19:46.213787Z","requestEndTimeUTC":"2022-06-12T01:19:46.588043Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.213922Z","durationInMicroSec":166650},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.380572Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.380650Z","durationInMicroSec":717},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.381367Z","durationInMicroSec":205312},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.586679Z","durationInMicroSec":695}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:45 GMT, x-ms-activity-id=530b3cf7-0aab-4250-abd0-df568ca2b6bb, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61146 KB","availableMemory":"2036006 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:19:46,595 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-4] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:19:46 gmt\\n\\n'\\r\\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:45 GMT, x-ms-activity-id=530b3cf7-0aab-4250-abd0-df568ca2b6bb, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:19:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"530b3cf7-0aab-4250-abd0-df568ca2b6bb","requestLatencyInMs":374,"requestStartTimeUTC":"2022-06-12T01:19:46.213787Z","requestEndTimeUTC":"2022-06-12T01:19:46.588043Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.213922Z","durationInMicroSec":166650},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.380572Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.380650Z","durationInMicroSec":717},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.381367Z","durationInMicroSec":205312},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.586679Z","durationInMicroSec":695}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:45 GMT, x-ms-activity-id=530b3cf7-0aab-4250-abd0-df568ca2b6bb, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61217 KB","availableMemory":"2035935 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"530b3cf7-0aab-4250-abd0-df568ca2b6bb","requestLatencyInMs":374,"requestStartTimeUTC":"2022-06-12T01:19:46.213787Z","requestEndTimeUTC":"2022-06-12T01:19:46.588043Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.213922Z","durationInMicroSec":166650},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.380572Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.380650Z","durationInMicroSec":717},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.381367Z","durationInMicroSec":205312},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.586679Z","durationInMicroSec":695}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: 530b3cf7-0aab-4250-abd0-df568ca2b6bb, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:45 GMT, x-ms-activity-id=530b3cf7-0aab-4250-abd0-df568ca2b6bb, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61217 KB","availableMemory":"2035935 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:19:46,648 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-1] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:19:46 gmt\\n\\n'\\r\\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:46 GMT, x-ms-activity-id=fb0b7463-8c04-48ac-a529-643282c24a74, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:19:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"fb0b7463-8c04-48ac-a529-643282c24a74","requestLatencyInMs":345,"requestStartTimeUTC":"2022-06-12T01:19:46.301666Z","requestEndTimeUTC":"2022-06-12T01:19:46.646853Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.301856Z","durationInMicroSec":170943},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.472799Z","durationInMicroSec":84},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.472883Z","durationInMicroSec":886},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.473769Z","durationInMicroSec":170499},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.644268Z","durationInMicroSec":1261}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:46 GMT, x-ms-activity-id=fb0b7463-8c04-48ac-a529-643282c24a74, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61469 KB","availableMemory":"2035683 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:19:46,650 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"fb0b7463-8c04-48ac-a529-643282c24a74","requestLatencyInMs":345,"requestStartTimeUTC":"2022-06-12T01:19:46.301666Z","requestEndTimeUTC":"2022-06-12T01:19:46.646853Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.301856Z","durationInMicroSec":170943},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.472799Z","durationInMicroSec":84},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.472883Z","durationInMicroSec":886},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.473769Z","durationInMicroSec":170499},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.644268Z","durationInMicroSec":1261}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:46 GMT, x-ms-activity-id=fb0b7463-8c04-48ac-a529-643282c24a74, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61588 KB","availableMemory":"2035564 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:19:46,653 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:19:46 gmt\\n\\n'\\r\\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:46 GMT, x-ms-activity-id=fb0b7463-8c04-48ac-a529-643282c24a74, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:19:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"fb0b7463-8c04-48ac-a529-643282c24a74","requestLatencyInMs":345,"requestStartTimeUTC":"2022-06-12T01:19:46.301666Z","requestEndTimeUTC":"2022-06-12T01:19:46.646853Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.301856Z","durationInMicroSec":170943},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.472799Z","durationInMicroSec":84},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.472883Z","durationInMicroSec":886},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.473769Z","durationInMicroSec":170499},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.644268Z","durationInMicroSec":1261}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:46 GMT, x-ms-activity-id=fb0b7463-8c04-48ac-a529-643282c24a74, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61720 KB","availableMemory":"2035432 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"fb0b7463-8c04-48ac-a529-643282c24a74","requestLatencyInMs":345,"requestStartTimeUTC":"2022-06-12T01:19:46.301666Z","requestEndTimeUTC":"2022-06-12T01:19:46.646853Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:19:46.301856Z","durationInMicroSec":170943},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:19:46.472799Z","durationInMicroSec":84},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:19:46.472883Z","durationInMicroSec":886},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:19:46.473769Z","durationInMicroSec":170499},{"eventName":"received","startTimeUTC":"2022-06-12T01:19:46.644268Z","durationInMicroSec":1261}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:19:46 gmt\n\n'\r\nActivityId: fb0b7463-8c04-48ac-a529-643282c24a74, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:19:46 GMT, x-ms-activity-id=fb0b7463-8c04-48ac-a529-643282c24a74, Content-Type=application/json}"},"systemInformation":{"usedMemory":"61720 KB","availableMemory":"2035432 KB","systemCpuLoad":"(2022-06-12T01:19:20.411510Z 27.8%), (2022-06-12T01:19:25.412430Z 26.2%), (2022-06-12T01:19:30.411938Z 26.9%), (2022-06-12T01:19:35.412543Z 26.3%), (2022-06-12T01:19:40.412204Z 26.6%), (2022-06-12T01:19:45.412121Z 33.5%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:24:42,134 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:24:43,209 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-2] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:24:42 gmt\\n\\n'\\r\\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:42 GMT, x-ms-activity-id=bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:24:42 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bcd7bba7-73df-4f8e-8aec-39f8e8cb796d","requestLatencyInMs":1036,"requestStartTimeUTC":"2022-06-12T01:24:42.158182Z","requestEndTimeUTC":"2022-06-12T01:24:43.194659Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:42.160711Z","durationInMicroSec":784642},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:42.945353Z","durationInMicroSec":4356},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:42.949709Z","durationInMicroSec":67212},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:43.016921Z","durationInMicroSec":161329},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:43.178250Z","durationInMicroSec":4022}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:42 GMT, x-ms-activity-id=bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Content-Type=application/json}"},"systemInformation":{"usedMemory":"62327 KB","availableMemory":"2034825 KB","systemCpuLoad":"(2022-06-12T01:24:15.418651Z 34.6%), (2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:24:43,213 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-2] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bcd7bba7-73df-4f8e-8aec-39f8e8cb796d","requestLatencyInMs":1036,"requestStartTimeUTC":"2022-06-12T01:24:42.158182Z","requestEndTimeUTC":"2022-06-12T01:24:43.194659Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:42.160711Z","durationInMicroSec":784642},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:42.945353Z","durationInMicroSec":4356},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:42.949709Z","durationInMicroSec":67212},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:43.016921Z","durationInMicroSec":161329},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:43.178250Z","durationInMicroSec":4022}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:42 GMT, x-ms-activity-id=bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Content-Type=application/json}"},"systemInformation":{"usedMemory":"62389 KB","availableMemory":"2034763 KB","systemCpuLoad":"(2022-06-12T01:24:15.418651Z 34.6%), (2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:24:43,216 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-2] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:24:42 gmt\\n\\n'\\r\\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:42 GMT, x-ms-activity-id=bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:24:42 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bcd7bba7-73df-4f8e-8aec-39f8e8cb796d","requestLatencyInMs":1036,"requestStartTimeUTC":"2022-06-12T01:24:42.158182Z","requestEndTimeUTC":"2022-06-12T01:24:43.194659Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:42.160711Z","durationInMicroSec":784642},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:42.945353Z","durationInMicroSec":4356},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:42.949709Z","durationInMicroSec":67212},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:43.016921Z","durationInMicroSec":161329},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:43.178250Z","durationInMicroSec":4022}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:42 GMT, x-ms-activity-id=bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Content-Type=application/json}"},"systemInformation":{"usedMemory":"62447 KB","availableMemory":"2034705 KB","systemCpuLoad":"(2022-06-12T01:24:15.418651Z 34.6%), (2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"bcd7bba7-73df-4f8e-8aec-39f8e8cb796d","requestLatencyInMs":1036,"requestStartTimeUTC":"2022-06-12T01:24:42.158182Z","requestEndTimeUTC":"2022-06-12T01:24:43.194659Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:42.160711Z","durationInMicroSec":784642},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:42.945353Z","durationInMicroSec":4356},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:42.949709Z","durationInMicroSec":67212},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:43.016921Z","durationInMicroSec":161329},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:43.178250Z","durationInMicroSec":4022}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:42 gmt\n\n'\r\nActivityId: bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:42 GMT, x-ms-activity-id=bcd7bba7-73df-4f8e-8aec-39f8e8cb796d, Content-Type=application/json}"},"systemInformation":{"usedMemory":"62509 KB","availableMemory":"2034643 KB","systemCpuLoad":"(2022-06-12T01:24:15.418651Z 34.6%), (2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:24:46,614 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:24:46,670 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-3] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:24:46,935 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-3] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:24:46 gmt\\n\\n'\\r\\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:46 GMT, x-ms-activity-id=8fb7c957-956a-4314-b9d4-f0c08eacd36e, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:24:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8fb7c957-956a-4314-b9d4-f0c08eacd36e","requestLatencyInMs":315,"requestStartTimeUTC":"2022-06-12T01:24:46.618835Z","requestEndTimeUTC":"2022-06-12T01:24:46.934284Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.618907Z","durationInMicroSec":162072},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.780979Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.781057Z","durationInMicroSec":1357},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.782414Z","durationInMicroSec":150940},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:46.933354Z","durationInMicroSec":528}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:46 GMT, x-ms-activity-id=8fb7c957-956a-4314-b9d4-f0c08eacd36e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63295 KB","availableMemory":"2033857 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:24:46,940 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8fb7c957-956a-4314-b9d4-f0c08eacd36e","requestLatencyInMs":315,"requestStartTimeUTC":"2022-06-12T01:24:46.618835Z","requestEndTimeUTC":"2022-06-12T01:24:46.934284Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.618907Z","durationInMicroSec":162072},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.780979Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.781057Z","durationInMicroSec":1357},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.782414Z","durationInMicroSec":150940},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:46.933354Z","durationInMicroSec":528}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:46 GMT, x-ms-activity-id=8fb7c957-956a-4314-b9d4-f0c08eacd36e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63416 KB","availableMemory":"2033736 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:24:46,943 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:24:46 gmt\\n\\n'\\r\\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:46 GMT, x-ms-activity-id=8fb7c957-956a-4314-b9d4-f0c08eacd36e, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:24:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8fb7c957-956a-4314-b9d4-f0c08eacd36e","requestLatencyInMs":315,"requestStartTimeUTC":"2022-06-12T01:24:46.618835Z","requestEndTimeUTC":"2022-06-12T01:24:46.934284Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.618907Z","durationInMicroSec":162072},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.780979Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.781057Z","durationInMicroSec":1357},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.782414Z","durationInMicroSec":150940},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:46.933354Z","durationInMicroSec":528}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:46 GMT, x-ms-activity-id=8fb7c957-956a-4314-b9d4-f0c08eacd36e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63486 KB","availableMemory":"2033666 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8fb7c957-956a-4314-b9d4-f0c08eacd36e","requestLatencyInMs":315,"requestStartTimeUTC":"2022-06-12T01:24:46.618835Z","requestEndTimeUTC":"2022-06-12T01:24:46.934284Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.618907Z","durationInMicroSec":162072},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.780979Z","durationInMicroSec":78},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.781057Z","durationInMicroSec":1357},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.782414Z","durationInMicroSec":150940},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:46.933354Z","durationInMicroSec":528}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 8fb7c957-956a-4314-b9d4-f0c08eacd36e, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:46 GMT, x-ms-activity-id=8fb7c957-956a-4314-b9d4-f0c08eacd36e, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63486 KB","availableMemory":"2033666 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:24:47,015 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-4] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:24:46 gmt\\n\\n'\\r\\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:47 GMT, x-ms-activity-id=43a72493-1adb-45ab-875f-8d16d16ed6da, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:24:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"43a72493-1adb-45ab-875f-8d16d16ed6da","requestLatencyInMs":338,"requestStartTimeUTC":"2022-06-12T01:24:46.671310Z","requestEndTimeUTC":"2022-06-12T01:24:47.009423Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.671410Z","durationInMicroSec":165839},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.837249Z","durationInMicroSec":198},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.837447Z","durationInMicroSec":736},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.838183Z","durationInMicroSec":168762},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:47.006945Z","durationInMicroSec":1540}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:47 GMT, x-ms-activity-id=43a72493-1adb-45ab-875f-8d16d16ed6da, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63735 KB","availableMemory":"2033417 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:24:47,020 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-4] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"43a72493-1adb-45ab-875f-8d16d16ed6da","requestLatencyInMs":338,"requestStartTimeUTC":"2022-06-12T01:24:46.671310Z","requestEndTimeUTC":"2022-06-12T01:24:47.009423Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.671410Z","durationInMicroSec":165839},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.837249Z","durationInMicroSec":198},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.837447Z","durationInMicroSec":736},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.838183Z","durationInMicroSec":168762},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:47.006945Z","durationInMicroSec":1540}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:47 GMT, x-ms-activity-id=43a72493-1adb-45ab-875f-8d16d16ed6da, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63850 KB","availableMemory":"2033302 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:24:47,030 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-4] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:24:46 gmt\\n\\n'\\r\\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:47 GMT, x-ms-activity-id=43a72493-1adb-45ab-875f-8d16d16ed6da, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:24:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"43a72493-1adb-45ab-875f-8d16d16ed6da","requestLatencyInMs":338,"requestStartTimeUTC":"2022-06-12T01:24:46.671310Z","requestEndTimeUTC":"2022-06-12T01:24:47.009423Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.671410Z","durationInMicroSec":165839},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.837249Z","durationInMicroSec":198},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.837447Z","durationInMicroSec":736},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.838183Z","durationInMicroSec":168762},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:47.006945Z","durationInMicroSec":1540}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:47 GMT, x-ms-activity-id=43a72493-1adb-45ab-875f-8d16d16ed6da, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63912 KB","availableMemory":"2033240 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"43a72493-1adb-45ab-875f-8d16d16ed6da","requestLatencyInMs":338,"requestStartTimeUTC":"2022-06-12T01:24:46.671310Z","requestEndTimeUTC":"2022-06-12T01:24:47.009423Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:24:46.671410Z","durationInMicroSec":165839},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:24:46.837249Z","durationInMicroSec":198},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:24:46.837447Z","durationInMicroSec":736},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:24:46.838183Z","durationInMicroSec":168762},{"eventName":"received","startTimeUTC":"2022-06-12T01:24:47.006945Z","durationInMicroSec":1540}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:24:46 gmt\n\n'\r\nActivityId: 43a72493-1adb-45ab-875f-8d16d16ed6da, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:24:47 GMT, x-ms-activity-id=43a72493-1adb-45ab-875f-8d16d16ed6da, Content-Type=application/json}"},"systemInformation":{"usedMemory":"63912 KB","availableMemory":"2033240 KB","systemCpuLoad":"(2022-06-12T01:24:20.421273Z 64.4%), (2022-06-12T01:24:25.420966Z 42.8%), (2022-06-12T01:24:30.420938Z 31.2%), (2022-06-12T01:24:35.421192Z 35.7%), (2022-06-12T01:24:40.421422Z 27.8%), (2022-06-12T01:24:45.422707Z 51.2%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:29:43,239 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-4] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:29:43,684 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-1] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:29:43 gmt\\n\\n'\\r\\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:42 GMT, x-ms-activity-id=8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:29:43 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8cc25fe0-51fd-4bc6-ad67-67cdd87c992b","requestLatencyInMs":412,"requestStartTimeUTC":"2022-06-12T01:29:43.262305Z","requestEndTimeUTC":"2022-06-12T01:29:43.674696Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:43.263604Z","durationInMicroSec":244126},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:43.507730Z","durationInMicroSec":613},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:43.508343Z","durationInMicroSec":10652},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:43.518995Z","durationInMicroSec":143521},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:43.662516Z","durationInMicroSec":3784}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:42 GMT, x-ms-activity-id=8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"40726 KB","availableMemory":"2056426 KB","systemCpuLoad":"(2022-06-12T01:29:15.429139Z 29.7%), (2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:29:43,686 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8cc25fe0-51fd-4bc6-ad67-67cdd87c992b","requestLatencyInMs":412,"requestStartTimeUTC":"2022-06-12T01:29:43.262305Z","requestEndTimeUTC":"2022-06-12T01:29:43.674696Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:43.263604Z","durationInMicroSec":244126},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:43.507730Z","durationInMicroSec":613},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:43.508343Z","durationInMicroSec":10652},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:43.518995Z","durationInMicroSec":143521},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:43.662516Z","durationInMicroSec":3784}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:42 GMT, x-ms-activity-id=8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"40832 KB","availableMemory":"2056320 KB","systemCpuLoad":"(2022-06-12T01:29:15.429139Z 29.7%), (2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:29:43,688 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-1] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:29:43 gmt\\n\\n'\\r\\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:42 GMT, x-ms-activity-id=8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:29:43 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8cc25fe0-51fd-4bc6-ad67-67cdd87c992b","requestLatencyInMs":412,"requestStartTimeUTC":"2022-06-12T01:29:43.262305Z","requestEndTimeUTC":"2022-06-12T01:29:43.674696Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:43.263604Z","durationInMicroSec":244126},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:43.507730Z","durationInMicroSec":613},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:43.508343Z","durationInMicroSec":10652},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:43.518995Z","durationInMicroSec":143521},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:43.662516Z","durationInMicroSec":3784}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:42 GMT, x-ms-activity-id=8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"40939 KB","availableMemory":"2056213 KB","systemCpuLoad":"(2022-06-12T01:29:15.429139Z 29.7%), (2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"8cc25fe0-51fd-4bc6-ad67-67cdd87c992b","requestLatencyInMs":412,"requestStartTimeUTC":"2022-06-12T01:29:43.262305Z","requestEndTimeUTC":"2022-06-12T01:29:43.674696Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:43.263604Z","durationInMicroSec":244126},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:43.507730Z","durationInMicroSec":613},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:43.508343Z","durationInMicroSec":10652},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:43.518995Z","durationInMicroSec":143521},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:43.662516Z","durationInMicroSec":3784}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:43 gmt\n\n'\r\nActivityId: 8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:42 GMT, x-ms-activity-id=8cc25fe0-51fd-4bc6-ad67-67cdd87c992b, Content-Type=application/json}"},"systemInformation":{"usedMemory":"40939 KB","availableMemory":"2056213 KB","systemCpuLoad":"(2022-06-12T01:29:15.429139Z 29.7%), (2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%)","availableProcessors":4},"clientCfgs":{"id":3,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:29:46,963 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-1] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:29:47,149 INFO com.azure.cosmos.implementation.RxDocumentClientImpl$1 [cosmos-parallel-2] Getting database account endpoint from https://jokeproject.documents.azure.com:443/
2022-06-11 20:29:47,303 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-2] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:29:46 gmt\\n\\n'\\r\\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=63a803b2-02dd-4057-a584-d5d46f99ef2f, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:29:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"63a803b2-02dd-4057-a584-d5d46f99ef2f","requestLatencyInMs":336,"requestStartTimeUTC":"2022-06-12T01:29:46.965940Z","requestEndTimeUTC":"2022-06-12T01:29:47.302096Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:46.966065Z","durationInMicroSec":166215},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.132280Z","durationInMicroSec":98},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.132378Z","durationInMicroSec":1626},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.134004Z","durationInMicroSec":166824},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.300828Z","durationInMicroSec":583}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=63a803b2-02dd-4057-a584-d5d46f99ef2f, Content-Type=application/json}"},"systemInformation":{"usedMemory":"41668 KB","availableMemory":"2055484 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:29:47,307 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-2] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"63a803b2-02dd-4057-a584-d5d46f99ef2f","requestLatencyInMs":336,"requestStartTimeUTC":"2022-06-12T01:29:46.965940Z","requestEndTimeUTC":"2022-06-12T01:29:47.302096Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:46.966065Z","durationInMicroSec":166215},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.132280Z","durationInMicroSec":98},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.132378Z","durationInMicroSec":1626},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.134004Z","durationInMicroSec":166824},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.300828Z","durationInMicroSec":583}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=63a803b2-02dd-4057-a584-d5d46f99ef2f, Content-Type=application/json}"},"systemInformation":{"usedMemory":"41745 KB","availableMemory":"2055407 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:29:47,311 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-2] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:29:46 gmt\\n\\n'\\r\\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=63a803b2-02dd-4057-a584-d5d46f99ef2f, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:29:46 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"63a803b2-02dd-4057-a584-d5d46f99ef2f","requestLatencyInMs":336,"requestStartTimeUTC":"2022-06-12T01:29:46.965940Z","requestEndTimeUTC":"2022-06-12T01:29:47.302096Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:46.966065Z","durationInMicroSec":166215},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.132280Z","durationInMicroSec":98},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.132378Z","durationInMicroSec":1626},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.134004Z","durationInMicroSec":166824},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.300828Z","durationInMicroSec":583}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=63a803b2-02dd-4057-a584-d5d46f99ef2f, Content-Type=application/json}"},"systemInformation":{"usedMemory":"41819 KB","availableMemory":"2055333 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"63a803b2-02dd-4057-a584-d5d46f99ef2f","requestLatencyInMs":336,"requestStartTimeUTC":"2022-06-12T01:29:46.965940Z","requestEndTimeUTC":"2022-06-12T01:29:47.302096Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:46.966065Z","durationInMicroSec":166215},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.132280Z","durationInMicroSec":98},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.132378Z","durationInMicroSec":1626},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.134004Z","durationInMicroSec":166824},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.300828Z","durationInMicroSec":583}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:46 gmt\n\n'\r\nActivityId: 63a803b2-02dd-4057-a584-d5d46f99ef2f, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=63a803b2-02dd-4057-a584-d5d46f99ef2f, Content-Type=application/json}"},"systemInformation":{"usedMemory":"41819 KB","availableMemory":"2055333 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":2,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:29:47,483 WARN com.azure.cosmos.implementation.RxDocumentClientImpl [reactor-http-kqueue-3] Failed to retrieve database account information. {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:29:47 gmt\\n\\n'\\r\\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:29:47 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"2b72ac06-cfc1-4f6c-8aad-f13f2ef44449","requestLatencyInMs":332,"requestStartTimeUTC":"2022-06-12T01:29:47.150576Z","requestEndTimeUTC":"2022-06-12T01:29:47.482976Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:47.150671Z","durationInMicroSec":166336},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.317007Z","durationInMicroSec":105},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.317112Z","durationInMicroSec":1312},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.318424Z","durationInMicroSec":163180},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.481604Z","durationInMicroSec":430}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Content-Type=application/json}"},"systemInformation":{"usedMemory":"42160 KB","availableMemory":"2054992 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
2022-06-11 20:29:47,484 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] Fail to reach global gateway [https://jokeproject.documents.azure.com:443/], [{"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"2b72ac06-cfc1-4f6c-8aad-f13f2ef44449","requestLatencyInMs":332,"requestStartTimeUTC":"2022-06-12T01:29:47.150576Z","requestEndTimeUTC":"2022-06-12T01:29:47.482976Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:47.150671Z","durationInMicroSec":166336},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.317007Z","durationInMicroSec":105},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.317112Z","durationInMicroSec":1312},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.318424Z","durationInMicroSec":163180},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.481604Z","durationInMicroSec":430}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Content-Type=application/json}"},"systemInformation":{"usedMemory":"42231 KB","availableMemory":"2054921 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}]
2022-06-11 20:29:47,488 ERROR com.azure.cosmos.implementation.GlobalEndpointManager [reactor-http-kqueue-3] startRefreshLocationTimerAsync() - Unable to refresh database account from any location. Exception: {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","statusCode":401,"resourceAddress":"https://jokeproject.documents.azure.com:443/","error":"{\"code\":\"Unauthorized\",\"message\":\"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\\n\\n\\nsun, 12 jun 2022 01:29:47 gmt\\n\\n'\\r\\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized\",\"additionalErrorInfo\":null}","innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","causeInfo":null,"responseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Content-Type=application/json}","requestHeaders":"[Accept=application/json, x-ms-date=Sun, 12 Jun 2022 01:29:47 GMT]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"2b72ac06-cfc1-4f6c-8aad-f13f2ef44449","requestLatencyInMs":332,"requestStartTimeUTC":"2022-06-12T01:29:47.150576Z","requestEndTimeUTC":"2022-06-12T01:29:47.482976Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:47.150671Z","durationInMicroSec":166336},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.317007Z","durationInMicroSec":105},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.317112Z","durationInMicroSec":1312},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.318424Z","durationInMicroSec":163180},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.481604Z","durationInMicroSec":430}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Content-Type=application/json}"},"systemInformation":{"usedMemory":"42307 KB","availableMemory":"2054845 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
com.azure.cosmos.CosmosException: {"innerErrorMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.30.0 MacOSX/12.2 JRE/17.0.2","activityId":"2b72ac06-cfc1-4f6c-8aad-f13f2ef44449","requestLatencyInMs":332,"requestStartTimeUTC":"2022-06-12T01:29:47.150576Z","requestEndTimeUTC":"2022-06-12T01:29:47.482976Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":[],"retryContext":{"statusAndSubStatusCodes":null,"retryCount":0,"retryLatency":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":null},"gatewayStatistics":{"sessionToken":null,"operationType":"Read","resourceType":"DatabaseAccount","statusCode":401,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-06-12T01:29:47.150671Z","durationInMicroSec":166336},{"eventName":"connectionConfigured","startTimeUTC":"2022-06-12T01:29:47.317007Z","durationInMicroSec":105},{"eventName":"requestSent","startTimeUTC":"2022-06-12T01:29:47.317112Z","durationInMicroSec":1312},{"eventName":"transitTime","startTimeUTC":"2022-06-12T01:29:47.318424Z","durationInMicroSec":163180},{"eventName":"received","startTimeUTC":"2022-06-12T01:29:47.481604Z","durationInMicroSec":430}],"partitionKeyRangeId":null,"exceptionMessage":"The input authorization token can't serve the request. The wrong key is being used or the expected payload is not built as per the protocol. For more info: https://aka.ms/cosmosdb-tsg-unauthorized. Server used the following payload to sign: 'get\n\n\nsun, 12 jun 2022 01:29:47 gmt\n\n'\r\nActivityId: 2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: Unauthorized","exceptionResponseHeaders":"{Transfer-Encoding=chunked, Strict-Transport-Security=max-age=31536000, Server=Microsoft-HTTPAPI/2.0, Content-Location=https://jokeproject.documents.azure.com/, x-ms-gatewayversion=version=2.14.0, Date=Sun, 12 Jun 2022 01:29:46 GMT, x-ms-activity-id=2b72ac06-cfc1-4f6c-8aad-f13f2ef44449, Content-Type=application/json}"},"systemInformation":{"usedMemory":"42307 KB","availableMemory":"2054845 KB","systemCpuLoad":"(2022-06-12T01:29:20.429360Z 33.1%), (2022-06-12T01:29:25.430675Z 28.3%), (2022-06-12T01:29:30.430627Z 30.1%), (2022-06-12T01:29:35.430792Z 34.8%), (2022-06-12T01:29:40.429936Z 38.1%), (2022-06-12T01:29:45.431416Z 37.1%)","availableProcessors":4},"clientCfgs":{"id":1,"machineId":"uuid:9a4c6c3a-b81f-4ae9-9ddc-3d5baa2aeba4","connectionMode":"DIRECT","numberOfClients":3,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
	at com.azure.cosmos.BridgeInternal.createCosmosException(BridgeInternal.java:488)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.validateOrThrow(RxGatewayStoreModel.java:440)
	at com.azure.cosmos.implementation.RxGatewayStoreModel.lambda$toDocumentServiceResponse$0(RxGatewayStoreModel.java:344)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:106)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)
	at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:126)
	at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:130)
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onComplete(MonoCollectList.java:128)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1372)
	at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544)
	at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383)
	at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:211)
	at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:289)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2022-06-11 20:30:59,859 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Attempting to close client 3
2022-06-11 20:30:59,860 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down ...
2022-06-11 20:30:59,860 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Closing Global Endpoint Manager ...
2022-06-11 20:30:59,865 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Closing StoreClientFactory ...
2022-06-11 20:30:59,866 INFO com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdServiceEndpoint$RntbdEndpointMonitoringProvider [SpringApplicationShutdownHook] Shutting down RntbdClientChannelPoolMonitoringProvider ...
2022-06-11 20:30:59,872 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down reactorHttpClient ...
2022-06-11 20:30:59,886 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down CpuMonitor ...
2022-06-11 20:30:59,886 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down completed.
2022-06-11 20:30:59,886 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Attempting to close client 2
2022-06-11 20:30:59,887 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down ...
2022-06-11 20:30:59,887 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Closing Global Endpoint Manager ...
2022-06-11 20:30:59,888 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Closing StoreClientFactory ...
2022-06-11 20:30:59,888 INFO com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdServiceEndpoint$RntbdEndpointMonitoringProvider [SpringApplicationShutdownHook] Shutting down RntbdClientChannelPoolMonitoringProvider ...
2022-06-11 20:30:59,891 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down reactorHttpClient ...
2022-06-11 20:30:59,891 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down CpuMonitor ...
2022-06-11 20:30:59,891 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down completed.
2022-06-11 20:30:59,892 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Attempting to close client 1
2022-06-11 20:30:59,892 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down ...
2022-06-11 20:30:59,892 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Closing Global Endpoint Manager ...
2022-06-11 20:30:59,893 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Closing StoreClientFactory ...
2022-06-11 20:30:59,893 INFO com.azure.cosmos.implementation.directconnectivity.rntbd.RntbdServiceEndpoint$RntbdEndpointMonitoringProvider [SpringApplicationShutdownHook] Shutting down RntbdClientChannelPoolMonitoringProvider ...
2022-06-11 20:30:59,895 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down reactorHttpClient ...
2022-06-11 20:30:59,896 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down CpuMonitor ...
2022-06-11 20:30:59,897 INFO com.azure.cosmos.implementation.RxDocumentClientImpl [SpringApplicationShutdownHook] Shutting down completed.
2022-06-11 20:30:59,900 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-06-11 20:30:59,910 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2022-06-11 20:30:59,920 INFO com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
